---
:scope: 
:url: https://js.stripe.com/v2/channel.html?stripe_xdm_e=http%3A%2F%2F127.0.0.1%3A53475&stripe_xdm_c=default866119&stripe_xdm_p=1
:body: ''
:status: 200
:method: get
:headers:
  Server: nginx
  Content-Type: text/html
  Last-Modified: Wed, 09 Dec 2015 22:48:42 GMT
  ETag: '"5668afca-459"'
  Cache-Control: public, max-age=300
  Via:
  - 1.1 varnish
  - 1.1 varnish
  Fastly-Debug-Digest: 68dfe84c03775afdb4a3b287e758572f88c132af1d68e458ab9802ab6e27c5be
  Content-Length: '1113'
  Accept-Ranges: bytes
  Date: Sat, 12 Dec 2015 17:58:01 GMT
  Age: '107'
  Connection: close
  X-Served-By: cache-sea1920-SEA, cache-ord1728-ORD
  X-Cache: HIT, HIT
  X-Cache-Hits: 2, 1
  Vary: Accept-Encoding
:content: |
  <!doctype html>
  <html>
  <head>
  <title>Stripe Internal Communication Channel</title>
  <script>
  if ('postMessage' in window) {
    var stripeTrack = function(type) {
      var timestamp = Math.round(new Date().getTime() / 1000);
      var report = (new Image()).src = "https://q.stripe.com?event=stripejs-error&type=" +
        encodeURIComponent(type) +
        "&timestamp=" + timestamp +
        "&payment_user_agent=channel.html";
    };

    if (window.parent === window) {
      stripeTrack('ChannelParentError');
      window.Stripe = {earlyError: true};
    }
    else {
      window.onload = function() {
        var matches = window.location.search.match(/(\?|&)stripe_xdm_e=([^&]+)/);
        if (matches && matches.length >= 3) {
          var outerdomain = decodeURIComponent(matches[2]);
          try {
            window.parent.postMessage('stripe:ack', outerdomain);
          }
          catch(e) {
            stripeTrack('ChannelAckError-' + e.toString());
          }
        }
        else {
          stripeTrack('ChannelUrlError');
        }
      }
    }
  }
  </script>
  </head>
  <body>
  <script src="https://js.stripe.com/v2/"></script>
  </body>
  </html>
